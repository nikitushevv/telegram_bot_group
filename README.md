# Telegram Bot (для одной группы)

Это телеграм-бот, который:
- Работает **только** в одном чате (группе).
- Предоставляет команду `/stats` (с ограничением по `user_id`).
- Предоставляет команду `/chinese` (ответы в стиле китайской мудрости).
- Реагирует на слово «мнение», обрабатывая его с помощью OpenAI.
- **Раз в неделю** (по четвергам в 19:00) или по запросу (команда `/got`) генерирует каждому участнику «тайтл в стиле Игры престолов» посредством OpenAI.
- Ведёт журнал взаимодействий (логирование запросов и ответов) в локальную базу `SQLite`.

---

## Содержание

1. [Технологии](#технологии)  
2. [Установка](#установка)  
3. [Настройка окружения](#настройка-окружения)  
4. [Запуск](#запуск)  
5. [Функционал бота](#функционал-бота)  
6. [Запуск на отдельном сервере](#запуск-на-отдельном-сервере)  
7. [Пример .env файла](#пример-env-файла)  
8. [Список команд для BotFather](#список-команд-для-botfather)

---

## Технологии

- [Python 3.9+](https://www.python.org/)
- [python-telegram-bot (20.3)](https://github.com/python-telegram-bot/python-telegram-bot)
- [OpenAI API](https://github.com/openai/openai-python)
- [SQLite3](https://www.sqlite.org/index.html)
- [python-dotenv](https://pypi.org/project/python-dotenv/)

---

## Установка

1. **Склонируйте репозиторий** (или скопируйте файлы в нужную директорию):
   ```bash
   git clone https://github.com/your-repo/telegram-bot.git
    ```
2. **Перейдите в папку проекта:**
   ```bash
   cd telegram-bot
    ```
3. **(Опционально) Создайте и активируйте виртуальное окружение:**
   ```bash
   python3 -m venv venv
   source venv/bin/activate  # Linux/Mac
   # Или на Windows: venv\Scripts\activate
    ```
4. **Установите зависимости:**
   ```bash
   pip install -r requirements.txt
    ```
## Настройка окружения
В корне проекта должен быть файл `.env`, содержащий переменные окружения:

- `TELEGRAM_BOT_TOKEN` — токен вашего телеграм-бота, выданный BotFather.
- `OPENAI_API_KEY` — ключ доступа к OpenAI API (ChatGPT).\

Другие настройки (например, `ALLOWED_CHAT_ID`) указываются напрямую в коде `bot.py`, либо могут также читаться из `.env` при необходимости.

## Запуск
После установки зависимостей и настройки .env выполните:
   ```bash
    python bot.py
 ```
В консоли должно появиться сообщение:
   ```bash
    Бот запущен...
 ```
 Бот начнёт обрабатывать обновления от Telegram.

## Функционал бота

1. **Ограничение по чату**\
Бот работает только в одной группе (ID чата хранится в переменной ALLOWED_CHAT_ID). При попытке написать боту в другом чате бот уведомит, что не поддерживает работу вне заданной группы.
